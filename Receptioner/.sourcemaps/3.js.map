{"version":3,"sources":["../../src/pages/notification/notification.module.ts","../../node_modules/@ionic-native/screen-orientation/index.js","../../src/pages/notification/notification.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACO;AACE;AACI;AACJ;AACmB;AAerE;IAAA;IAAqC,CAAC;IAAzB,sBAAsB;QAblC,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,uEAAgB;aACjB;YACD,OAAO,EAAE;gBACP,8DAAe,CAAC,QAAQ,CAAC,uEAAgB,CAAC;gBAC1C,4EAAe,CAAC,QAAQ,EAAE;aAC3B;YACD,SAAS,EAAE;gBACT,wEAAQ;gBACR,2FAAiB;aAClB;SACF,CAAC;OACW,sBAAsB,CAAG;IAAD,6BAAC;CAAA;AAAH;;;;;;;;;ACpBnC;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AAC2C;AAC8C;AAC5C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,OAAO;AAClC,gBAAgB;AAChB;AACA;AACA;AACA;AACA,6BAA6B,OAAO;AACpC,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6BAA6B,OAAO;AACpC,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { NotificationPage } from './notification';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { Keyboard } from '@ionic-native/keyboard';\r\nimport { ScreenOrientation } from \"@ionic-native/screen-orientation\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    NotificationPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(NotificationPage),\r\n    TranslateModule.forChild(),\r\n  ],\r\n  providers: [\r\n    Keyboard,\r\n    ScreenOrientation\r\n  ]\r\n})\r\nexport class NotificationPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notification/notification.module.ts","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Injectable } from '@angular/core';\nimport { Cordova, CordovaProperty, IonicNativePlugin, Plugin } from '@ionic-native/core';\nimport { Observable } from 'rxjs/Observable';\n/**\n * @name Screen Orientation\n * @description\n * Cordova plugin to set/lock the screen orientation in a common way.\n *\n * Requires Cordova plugin: `cordova-plugin-screen-orientation`. For more info, please see the [Screen Orientation plugin docs](https://github.com/apache/cordova-plugin-screen-orientation).\n *\n * @usage\n * ```typescript\n * import { ScreenOrientation } from '@ionic-native/screen-orientation';\n *\n * constructor(private screenOrientation: ScreenOrientation) { }\n *\n * ...\n *\n *\n * // get current\n * console.log(this.screenOrientation.type); // logs the current orientation, example: 'landscape'\n *\n * // set to landscape\n * this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.LANDSCAPE);\n *\n * // allow user rotate\n * this.screenOrientation.unlock();\n *\n * // detect orientation changes\n * this.screenOrientation.onChange().subscribe(\n *    () => {\n *        console.log(\"Orientation Changed\");\n *    }\n * );\n *\n * ```\n *\n * @advanced\n *\n * Accepted orientation values:\n *\n * | Value                         | Description                                                                  |\n * |-------------------------------|------------------------------------------------------------------------------|\n * | portrait-primary              | The orientation is in the primary portrait mode.                             |\n * | portrait-secondary            | The orientation is in the secondary portrait mode.                           |\n * | landscape-primary             | The orientation is in the primary landscape mode.                            |\n * | landscape-secondary           | The orientation is in the secondary landscape mode.                          |\n * | portrait                      | The orientation is either portrait-primary or portrait-secondary (sensor).   |\n * | landscape                     | The orientation is either landscape-primary or landscape-secondary (sensor). |\n *\n */\nvar ScreenOrientation = (function (_super) {\n    __extends(ScreenOrientation, _super);\n    function ScreenOrientation() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n           * Convenience enum for possible orientations\n           */\n        _this.ORIENTATIONS = {\n            PORTRAIT_PRIMARY: 'portrait-primary',\n            PORTRAIT_SECONDARY: 'portrait-secondary',\n            LANDSCAPE_PRIMARY: 'landscape-primary',\n            LANDSCAPE_SECONDARY: 'landscape-secondary',\n            PORTRAIT: 'portrait',\n            LANDSCAPE: 'landscape',\n            ANY: 'any'\n        };\n        return _this;\n    }\n    /**\n     * Listen to orientation change event\n     * @return {Observable<void>}\n     */\n    /**\n       * Listen to orientation change event\n       * @return {Observable<void>}\n       */\n    ScreenOrientation.prototype.onChange = /**\n       * Listen to orientation change event\n       * @return {Observable<void>}\n       */\n    function () {\n        return;\n    };\n    /**\n     * Lock the orientation to the passed value.\n     * See below for accepted values\n     * @param orientation {string} The orientation which should be locked. Accepted values see table above.\n     * @return {Promise<any>}\n     */\n    /**\n       * Lock the orientation to the passed value.\n       * See below for accepted values\n       * @param orientation {string} The orientation which should be locked. Accepted values see table above.\n       * @return {Promise<any>}\n       */\n    ScreenOrientation.prototype.lock = /**\n       * Lock the orientation to the passed value.\n       * See below for accepted values\n       * @param orientation {string} The orientation which should be locked. Accepted values see table above.\n       * @return {Promise<any>}\n       */\n    function (orientation) {\n        return;\n    };\n    /**\n     * Unlock and allow all orientations.\n     */\n    /**\n       * Unlock and allow all orientations.\n       */\n    ScreenOrientation.prototype.unlock = /**\n       * Unlock and allow all orientations.\n       */\n    function () { };\n    ScreenOrientation.decorators = [\n        { type: Injectable },\n    ];\n    __decorate([\n        Cordova({\n            eventObservable: true,\n            event: 'orientationchange'\n        }),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", Observable)\n    ], ScreenOrientation.prototype, \"onChange\", null);\n    __decorate([\n        Cordova({ otherPromise: true }),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [String]),\n        __metadata(\"design:returntype\", Promise)\n    ], ScreenOrientation.prototype, \"lock\", null);\n    __decorate([\n        Cordova({ sync: true }),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], ScreenOrientation.prototype, \"unlock\", null);\n    __decorate([\n        CordovaProperty,\n        __metadata(\"design:type\", String)\n    ], ScreenOrientation.prototype, \"type\", void 0);\n    /**\n     * @name Screen Orientation\n     * @description\n     * Cordova plugin to set/lock the screen orientation in a common way.\n     *\n     * Requires Cordova plugin: `cordova-plugin-screen-orientation`. For more info, please see the [Screen Orientation plugin docs](https://github.com/apache/cordova-plugin-screen-orientation).\n     *\n     * @usage\n     * ```typescript\n     * import { ScreenOrientation } from '@ionic-native/screen-orientation';\n     *\n     * constructor(private screenOrientation: ScreenOrientation) { }\n     *\n     * ...\n     *\n     *\n     * // get current\n     * console.log(this.screenOrientation.type); // logs the current orientation, example: 'landscape'\n     *\n     * // set to landscape\n     * this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.LANDSCAPE);\n     *\n     * // allow user rotate\n     * this.screenOrientation.unlock();\n     *\n     * // detect orientation changes\n     * this.screenOrientation.onChange().subscribe(\n     *    () => {\n     *        console.log(\"Orientation Changed\");\n     *    }\n     * );\n     *\n     * ```\n     *\n     * @advanced\n     *\n     * Accepted orientation values:\n     *\n     * | Value                         | Description                                                                  |\n     * |-------------------------------|------------------------------------------------------------------------------|\n     * | portrait-primary              | The orientation is in the primary portrait mode.                             |\n     * | portrait-secondary            | The orientation is in the secondary portrait mode.                           |\n     * | landscape-primary             | The orientation is in the primary landscape mode.                            |\n     * | landscape-secondary           | The orientation is in the secondary landscape mode.                          |\n     * | portrait                      | The orientation is either portrait-primary or portrait-secondary (sensor).   |\n     * | landscape                     | The orientation is either landscape-primary or landscape-secondary (sensor). |\n     *\n     */\n    ScreenOrientation = __decorate([\n        Plugin({\n            pluginName: 'ScreenOrientation',\n            plugin: 'cordova-plugin-screen-orientation',\n            pluginRef: 'screen.orientation',\n            repo: 'https://github.com/apache/cordova-plugin-screen-orientation',\n            platforms: ['Android', 'iOS', 'Windows']\n        })\n    ], ScreenOrientation);\n    return ScreenOrientation;\n}(IonicNativePlugin));\nexport { ScreenOrientation };\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@ionic-native/screen-orientation/index.js\n// module id = 460\n// module chunks = 1 2 3","import { Tools } from './../../providers/tools';\r\nimport { CustomBootstrap } from './../../app/BootstrapFirstRun';\r\nimport { ApiProvider } from './../../providers/services';\r\nimport { Component, ViewChild, NgZone } from '@angular/core';\r\nimport { IonicPage, AlertController, NavController, NavParams, Platform, Events, Content } from 'ionic-angular';\r\nimport { Keyboard } from '@ionic-native/keyboard';\r\nimport { ScreenOrientation } from '@ionic-native/screen-orientation';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { Notification } from '../../providers/interface';\r\nimport { NativeAudio } from '@ionic-native/native-audio';\r\nimport { Vibration } from '@ionic-native/vibration';\r\nimport { PhotoViewer } from '@ionic-native/photo-viewer';\r\nimport * as moment from 'moment';\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\n\r\n/**\r\n * Generated class for the NotificationPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage({\r\n    name: 'page-notification',\r\n    priority: 'high'\r\n})\r\n@Component({\r\n    selector: 'page-notification',\r\n    templateUrl: 'notification.html',\r\n})\r\nexport class NotificationPage {\r\n\r\n    @ViewChild(Content) content: Content;\r\n    confirmPopover: any;\r\n    showScrollButton: boolean;\r\n    notificData: any = [];\r\n    originalData: any = [];\r\n    isInfinite: boolean = true;\r\n    pageNum: number = 1;\r\n    itemsPerPage: number = 10;\r\n    isPooling: boolean = true;\r\n    today: string = \"\";\r\n\r\n    sFilter: { pending: boolean, booked: boolean, request: boolean, paid_online: boolean, occupied: boolean, phone: number, unread: boolean } = { pending: false, booked: false, request: false, paid_online: false, occupied: false, phone: null, unread: false };\r\n\r\n    beachId: string = '';\r\n\r\n    private _selectPeriodHandler: (data: any) => void;\r\n    public colorMap: any = { booked: '#a82fab', occupied: '#000000', paid: '#f40006', 'change-request': '#54fe62', pending: '#fffd8c', unread: '#8181f9' };\r\n\r\n    private onResumeSubscription: Subscription;\r\n\r\n    constructor(public api: ApiProvider, private ngZone: NgZone, private alertCtrl: AlertController, private tools: Tools, private events: Events, private config: CustomBootstrap,\r\n        private nativeAudio: NativeAudio, private vibration: Vibration,\r\n        public navCtrl: NavController, public navParams: NavParams, private platform: Platform, private keyboard: Keyboard, private orientation: ScreenOrientation,\r\n        private photoViewer: PhotoViewer, public changeDetectorRef: ChangeDetectorRef\r\n    ) {\r\n\r\n        this.platform.ready().then(() => {\r\n            if (platform.is('cordova')) {\r\n                try {\r\n                    this.orientation.lock(this.orientation.ORIENTATIONS.LANDSCAPE);\r\n                } catch (error) {\r\n                }\r\n                this.nativeAudio.preloadSimple('notification', 'assets/notification.mp3').then(() => {\r\n                    console.log('success');\r\n                }).catch(error => {\r\n                    console.log(error);\r\n                });\r\n            }\r\n\r\n            this.onResumeSubscription = platform.resume.subscribe(() => {\r\n                this.isPooling = false;\r\n                this.buildParams().then(params => this.gettingReservations(params).subscribe(res => {\r\n                    this.handleResponse(res, false);\r\n                    this.originalData = JSON.parse(JSON.stringify(this.notificData));\r\n                }));\r\n            });\r\n\r\n        });\r\n    }\r\n    receivedNotification() {\r\n        this.nativeAudio.play('notification').then((value) => {\r\n            console.log('success play');\r\n        }).catch(error => {\r\n            console.log(error);\r\n        });\r\n        this.vibration.vibrate(1000);\r\n    }\r\n\r\n    ionViewDidEnter() {\r\n        this.today = moment(new Date()).format('DD.MM.YYYY');\r\n        this.initEvents();\r\n\r\n        if (this.platform.is('android') || this.platform.is('ios')) {\r\n            // this.keyboard.disableScroll(true);\r\n        }\r\n\r\n    }\r\n\r\n    onNewNotification(data: Notification) {\r\n        if (data) {\r\n\r\n            console.log('Notification Data:', data);\r\n\r\n            this.buildParams().then(params => this.gettingReservations(params).subscribe(res => {\r\n\r\n                if (this.platform.is('cordova') && data.action === 'create') {\r\n                    this.receivedNotification();\r\n                }\r\n                if (this.platform.is('cordova') && data.action === 'cancel') {\r\n                    this.receivedNotification();\r\n                }\r\n                if (this.platform.is('cordova') && data.action === 'release') {\r\n                    this.receivedNotification();\r\n                }\r\n                this.ngZone.run(() => {\r\n                    this.handleResponse(res, false);\r\n                });\r\n\r\n            }));\r\n\r\n        }\r\n\r\n    }\r\n\r\n    ionViewWillEnter() {\r\n\r\n        this.config.setPage('notification');\r\n\r\n        this.buildParams().then(params => this.gettingReservations(params).subscribe(res => {\r\n            this.handleResponse(res, false);\r\n            this.originalData = JSON.parse(JSON.stringify(this.notificData));\r\n        }));\r\n    }\r\n\r\n    onNavigateTop() {\r\n        this.content.scrollToTop();\r\n    }\r\n\r\n    initEvents() {\r\n\r\n        this._selectPeriodHandler = data => this.selectPeriodHandler(data);\r\n        this.events.subscribe('app:selectPeriodNotifications', this._selectPeriodHandler);\r\n\r\n        this.events.publish('app:authState', false);\r\n        this.events.subscribe('app:reload', () => {\r\n            this.buildParams().then(params => this.gettingReservations(params).subscribe(res => {\r\n                this.handleResponse(res, false);\r\n                this.originalData = JSON.parse(JSON.stringify(this.notificData));\r\n            }));\r\n        });\r\n\r\n        console.log(\"123456 - notification unsubscribe\");\r\n        this.events.unsubscribe('app:notification');\r\n        console.log(\"123456 - notification subscribe\");\r\n        this.events.subscribe('app:notification', this.onNewNotification.bind(this));\r\n\r\n        this.events.publish('app:activePage', 'notifications');\r\n    }\r\n\r\n    selectPeriodHandler(data: any) {\r\n\r\n        this.notificData = [];\r\n        this.pageNum = 1;\r\n\r\n        let pageTabNum = data.page;\r\n\r\n        if (pageTabNum != 2) return;\r\n\r\n        this.buildParams().then(params => {\r\n            this.gettingReservations(params, data.period).subscribe(res => this.handleResponse(res));\r\n        });\r\n\r\n    }\r\n    gettingReservations(params: any, period: any = null) {\r\n\r\n        let beach_id = params.beach_id;\r\n        delete params.beach_id;\r\n        if (!beach_id) {\r\n            //debugger;\r\n        }\r\n        return this.api.get(`booking/${beach_id}/`, params, { 'Content-Type': 'application/json' }, true, false);\r\n\r\n    }\r\n\r\n    itemClick(item: any) {\r\n        console.log('item-clicked')\r\n\r\n        // if ( item.status === 'change-request' ) {\r\n        //   item.clicked = !item.clicked;\r\n        // }\r\n        if (item.status === 'canceled' || item.status === 'expired') {\r\n            return;\r\n        }\r\n\r\n        this.notificData.map((notification) => {\r\n            notification.clicked = notification.id === item.id && !notification.clicked\r\n        })\r\n\r\n    }\r\n\r\n    generateDays(start, end) {\r\n        let dateStart = new Date(start);\r\n        let dateEnd = new Date(end);\r\n        let days = [];\r\n\r\n        let incrementalDate = new Date(start);\r\n        if (dateEnd.getDate() == dateStart.getDate()) {\r\n            days.push(this.tools.getFormattedDate(dateStart))\r\n        }\r\n        else {\r\n            days.push(this.tools.getFormattedDate(incrementalDate))\r\n            while (dateEnd.getDate() > dateStart.getDate()) {\r\n                incrementalDate = new Date(incrementalDate.setDate(incrementalDate.getDate() + 1))\r\n                days.push(this.tools.getFormattedDate(incrementalDate))\r\n            }\r\n        }\r\n        return days;\r\n    }\r\n\r\n    checkPhoto(item, evt) {\r\n        evt.stopPropagation();\r\n        this.api.get(`booking/photo/${item.id}`, {}, {}, true).subscribe(res => {\r\n            if (this.platform.is('cordova')) {\r\n                this.photoViewer.show(res.url, '', {\r\n\r\n                });\r\n            } else {\r\n                alert(res.url);\r\n            }\r\n        }, error => {\r\n            this.api.AmError(this.config.translate.translate.instant('ERROR'), error.message, [{\r\n                text: this.config.translate.translate.instant('Buttons.CLOSE')\r\n            }]);\r\n        })\r\n    }\r\n    confirmPosition(item, to_confirm, evt) {\r\n        evt.stopPropagation();\r\n\r\n        if (to_confirm !== 'later') {\r\n\r\n            let endPoint = this.prepareEndpoint(item, to_confirm);\r\n\r\n            if (to_confirm === 'accept') {\r\n                this.api.post(`booking/` + endPoint.segment, endPoint.payload, { 'Content-Type': 'application/json' }, true, false).subscribe(res => {\r\n                    item.clicked = false;\r\n                    item.acceptable = false;\r\n                    \r\n                }, err => {\r\n                    this.api.AmError(\r\n                        this.config.translate.translate.instant('Components.WARNING'),\r\n                        err.message,\r\n                        [{\r\n                            text: this.config.translate.translate.instant('Buttons.OK'),\r\n                            handler: () => {\r\n                                item.clicked = false;\r\n                            }\r\n                        }]);\r\n                });\r\n            }\r\n            else if (to_confirm === 'view_change') {\r\n                this.confirmPositionRequestHandler(endPoint, item, to_confirm)\r\n            }\r\n            else {\r\n                this.showConfirm().onDidDismiss((data, role) => {\r\n                    if (role === 'ok') {\r\n                        this.confirmPositionRequestHandler(endPoint, item, to_confirm)\r\n                    }\r\n                })\r\n            }\r\n        } else {\r\n            item.clicked = false;\r\n        }\r\n\r\n    }\r\n\r\n    confirmPositionRequestHandler(endPoint, item, to_confirm) {\r\n        console.log(\"1234\",endPoint,\"----\",to_confirm,\"------\",item);\r\n        this.api.post(`booking/` + endPoint.segment, endPoint.payload, { 'Content-Type': 'application/json' }, true, false).subscribe(res => {\r\n            // Update item in the view\r\n            if (to_confirm === 'confirm') {\r\n                const uiItem = this.notificData.filter(el => el.id === item.id)[0];\r\n\r\n                uiItem.status_text = uiItem.active_status_text;\r\n                uiItem.status_color = '#000000';\r\n                uiItem.status = 'active';\r\n                uiItem.read = true;\r\n            } else if (to_confirm === 'cancel') {\r\n                const uiItem = this.notificData.filter(el => el.id === item.id)[0];\r\n\r\n                uiItem.status_text = 'Canceled';\r\n                uiItem.status_color = '#000000';\r\n                uiItem.status = 'cancel';\r\n                uiItem.read = true;\r\n            } else if (to_confirm === 'payoff') {\r\n                const uiItem = this.notificData.filter(el => el.id === item.id)[0];\r\n\r\n                uiItem.status_text = uiItem.active_status_text;\r\n                uiItem.status_color = '#000000';\r\n                uiItem.status = 'active';\r\n                uiItem.read = true;\r\n            }\r\n            else if (to_confirm === 'release_all') {\r\n                const uiItem = this.notificData.filter(el => el.id === item.id)[0];\r\n\r\n                uiItem.status_text = 'Completed';\r\n                uiItem.status_color = '#000000';\r\n                uiItem.status = 'active';\r\n                uiItem.read = true;\r\n            }\r\n\r\n            item.clicked = false;\r\n\r\n        }, err => {\r\n\r\n            this.api.AmError(\r\n                this.config.translate.translate.instant('Components.WARNING'),\r\n                err.message,\r\n                [{\r\n                    text: this.config.translate.translate.instant('Buttons.OK'),\r\n                    handler: () => {\r\n                        item.clicked = false;\r\n                    }\r\n                }]);\r\n\r\n        });\r\n    }\r\n\r\n    prepareEndpoint(item, to_confirm): { segment: string, payload: Object } {\r\n        if (to_confirm === 'change_request_confirm') {\r\n            let returnedValue = {\r\n                segment: \"position\",\r\n                payload: {\r\n                    id: item.id,\r\n                    change: true\r\n                }\r\n            }\r\n            if (!item.read) {\r\n                returnedValue.payload['read'] = true;\r\n            }\r\n            return returnedValue;\r\n        } else if (to_confirm === 'change_request_reject') {\r\n            return {\r\n                segment: \"position\",\r\n                payload: {\r\n                    id: item.id,\r\n                    change: false\r\n                }\r\n            }\r\n        }\r\n        else if (to_confirm === 'view_change') {\r\n            return {\r\n                segment: \"view/\" + item.reservation_id,\r\n                payload: {\r\n                    id: item.id,\r\n                }\r\n            }\r\n        }\r\n        else if (to_confirm === 'payoff') {\r\n            let returnedValue = {\r\n                segment: \"pay\",\r\n                payload: {\r\n                    id: item.id\r\n                }\r\n            }\r\n            if (!item.read) {\r\n                returnedValue.payload['read'] = true;\r\n            }\r\n            return returnedValue;\r\n        }\r\n        else if (to_confirm === 'confirm') {\r\n            let returnedValue = {\r\n                segment: \"pay\",\r\n                payload: {\r\n                    id: item.id\r\n                }\r\n            }\r\n            if (!item.read) {\r\n                returnedValue.payload['read'] = true;\r\n            }\r\n            return returnedValue;\r\n        }\r\n        else if (to_confirm === 'cancel') {\r\n            let returnedValue: any = {\r\n                segment: \"cancel\",\r\n                payload: {\r\n                    id: item.id,\r\n                }\r\n            }\r\n            if (item.acceptable) {\r\n                returnedValue.payload.block = true;\r\n            }\r\n            return returnedValue;\r\n\r\n        } else if (to_confirm === 'accept') {\r\n            let returnedValue = {\r\n                segment: \"accept\",\r\n                payload: {\r\n                    id: item.id\r\n                }\r\n            }\r\n            return returnedValue;\r\n        }\r\n        else if (to_confirm === 'release_all') {\r\n            let days = this.tools.getDateAry(this.tools.getFormattedDateStr(item.period.start), this.tools.getFormattedDateStr(item.period.end))\r\n            let dates = []\r\n            if (days && days.length > 0) {\r\n                days.map((day) => {\r\n                    dates.push(this.tools.getFormattedDateStr(day))\r\n                })\r\n            }\r\n            let returnedValue = {\r\n                segment: \"release\",\r\n                payload: {\r\n                    id: item.id,\r\n                    days: dates\r\n                }\r\n            }\r\n            if (!item.read) {\r\n                returnedValue.payload['read'] = true;\r\n            }\r\n            return returnedValue;\r\n        }\r\n    }\r\n\r\n    ionViewDidLeave() {\r\n\r\n        if (this.platform.is('android') || this.platform.is('ios')) {\r\n            // this.keyboard.disableScroll(false);\r\n        }\r\n\r\n        this.events.unsubscribe('app:selectPeriod2');\r\n        this.events.unsubscribe('app:reserveSunbed');\r\n        this.events.unsubscribe('app:reload');\r\n\r\n    }\r\n\r\n\r\n    showConfirm() {\r\n        this.confirmPopover = this.alertCtrl.create({\r\n            title: 'Are you sure?',\r\n            buttons: [\r\n                {\r\n                    text: this.config.translate.translate.instant('Buttons.REJECT'),\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                    }\r\n                },\r\n                {\r\n                    text: this.config.translate.translate.instant('Buttons.OK'),\r\n                    role: 'ok',\r\n                    handler: () => {\r\n                        this.refreshView();\r\n                    }\r\n                }\r\n            ],\r\n            enableBackdropDismiss: false,\r\n        });\r\n        this.confirmPopover.present();\r\n        return this.confirmPopover;\r\n    }\r\n\r\n    // UI Components\r\n\r\n    getSeatType(seat: any): string {\r\n        return (typeof seat.type != 'undefined') ? seat.type : 'Umbrella';\r\n    }\r\n\r\n    getComma(ary: Array<any>, item: any): string {\r\n        return this.tools.getComma(ary, item);\r\n    }\r\n\r\n    filterCheck(event, filterName?: string) {\r\n        if (!event.checked) {\r\n            return;\r\n        }\r\n        for (const prop in this.sFilter) {\r\n            if (this.sFilter[prop] && prop != filterName) {\r\n                this.sFilter[prop] = false;\r\n            }\r\n        }\r\n\r\n        this.pageNum = 1;\r\n        this.buildParams().then(params => this.gettingReservations(params).subscribe(res => {\r\n            this.config.setStorage('notifications', res.notifications);\r\n            res.items = this.mapItems(res.items);\r\n            this.notificData = res.items;\r\n        }));\r\n\r\n    }\r\n\r\n    handleResponse(res, concat: boolean = true) {\r\n\r\n        this.config.setStorage('notifications', res.notifications);\r\n\r\n        res.items = this.mapItems(res.items);\r\n\r\n        if (!concat) {\r\n            this.notificData = res.items;\r\n        } else {\r\n            this.notificData = this.notificData ? this.notificData.concat(res.items) : res.items;\r\n        }\r\n\r\n    }\r\n\r\n    onSwipeItem(item) {\r\n        if (item.read) {\r\n            return;\r\n        }\r\n        this.api.post(`booking/read`, { id: item.id }, { 'Content-Type': 'application/json' }, true, false)\r\n            .subscribe(response => {\r\n                this.buildParams().then(params => {\r\n                    this.gettingReservations(params).subscribe(res => {\r\n                        this.config.setStorage('notifications', res.notifications);\r\n                        res.items = this.mapItems(res.items);\r\n                        this.notificData = res.items;\r\n                    });\r\n                });\r\n            },\r\n                error => {\r\n                    console.log(error)\r\n                });\r\n    }\r\n\r\n    mapItems(items) {\r\n\r\n        const colorMap = this.colorMap;\r\n\r\n        items = items.map(item => {\r\n            item.status_color = item.payment_method === 'online' && item.status === 'booked' ? colorMap['paid'] : colorMap[item.status];\r\n            return item;\r\n        });\r\n\r\n        return items;\r\n\r\n    }\r\n    onPhoneSearch() {\r\n        if (!this.sFilter.phone) return;\r\n        this.buildParams().then((params: any) => {\r\n\r\n            this.phoneSearch({ phone: this.sFilter.phone, beach_id: params.beach_id }).subscribe(res => {\r\n\r\n                if (res.length) {\r\n                    res = this.mapItems(res);\r\n                    this.notificData = res;\r\n\r\n                } else {\r\n                    this.api.AmError(this.config.translate.translate.instant('Components.INFO'), this.config.translate.translate.instant('Messages.PHONE_NO_RESULTS'), [{\r\n                        text: this.config.translate.translate.instant('Buttons.OK'),\r\n                        handler: () => { }\r\n                    }]);\r\n                }\r\n            })\r\n        });\r\n\r\n    }\r\n\r\n    phoneSearch(params: any) {\r\n        return this.api.get(`booking/search`, params, { 'Content-Type': 'application/json' }, true, false);\r\n    }\r\n\r\n    doInfinite(infiniteScroll: any) {\r\n        console.log('infinitescroll');\r\n        if (this.sFilter.phone) return;\r\n        console.log('infinitescroll');\r\n        console.log(infiniteScroll);\r\n        let self = this;\r\n        this.pageNum = this.pageNum + 1;\r\n        this.buildParams().then((params: any) => {\r\n            this.gettingReservations(params).subscribe(res => {\r\n                res.items = self.mapItems(res.items);\r\n                for (let i = 0; i < res.items.length; i++) {\r\n                    self.notificData.push(res.items[i]);\r\n                }\r\n                //self.notificData = self.notificData.concat(res.items);\r\n                self.refreshView();\r\n\r\n                if (res.hasMore) {\r\n                    self.pageNum = self.pageNum + 1;\r\n                    infiniteScroll.complete();\r\n                } else {\r\n                    infiniteScroll.enable(true);\r\n                }\r\n                self.isInfinite = res.hasMore;\r\n\r\n                console.log(self.isInfinite);\r\n                console.log(infiniteScroll);\r\n            });\r\n        });\r\n    }\r\n    refreshView() {\r\n        this.changeDetectorRef.markForCheck();\r\n        this.changeDetectorRef.detectChanges();\r\n    }\r\n    getNotificData() {\r\n        console.log(this.notificData);\r\n        return this.notificData;\r\n    }\r\n\r\n    buildParams() {\r\n\r\n        return new Promise(async (resolve, reject) => {\r\n\r\n            let [period, login, /*notifications,*/ settings] = await Promise.all([\r\n                this.config.getStorage('period'),\r\n                this.config.getStorage('login'),\r\n                this.config.getStorage('notifications'),\r\n                this.config.getStorage('beach_settings')\r\n            ]);\r\n\r\n            if (!period) {\r\n                period = this.initPeriod(settings);\r\n            }\r\n\r\n            let params: any = {\r\n\r\n                beach_id: login ? login.beach_id : undefined,\r\n                // start_date: period.from,\r\n                // end_date: period.to,\r\n                // unread: notifications || 0,\r\n                offset: 0,\r\n            }\r\n\r\n            params.offset = this.calculateOffset();\r\n\r\n            let status = null;\r\n\r\n            for (const prop in this.sFilter) {\r\n                if (prop !== 'phone') {\r\n\r\n                    if (true === this.sFilter[prop]) {\r\n\r\n                        if (prop === 'paid_online') {\r\n                            params.paid = true;\r\n                            status = 'booked';\r\n                        } else if (prop === 'booked') {\r\n                            params.paid = false;\r\n                            status = 'booked';\r\n                        } else if (prop === 'pending') {\r\n                            params.paid = false;\r\n                            status = 'pending';\r\n                        } else if (prop === 'unread') {\r\n                            params.unread = 1;\r\n                        } else {\r\n                            status = ['change-request', 'active'];\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            if (status != null) {\r\n                params.status = status;\r\n            }\r\n\r\n            resolve(params);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    initPeriod(settings: any) {\r\n\r\n        let period;\r\n\r\n        if (settings && settings.working_dates && Array.isArray(settings.working_dates) && settings.working_dates.length) {\r\n            const dates = settings.working_dates[0];\r\n\r\n            const working_date_start = `${(new Date().getFullYear())}-${dates.start['month']}-${dates.start['day']}`;\r\n            const working_date_end = `${(new Date().getFullYear())}-${dates.end['month']}-${dates.end['day']}`;\r\n\r\n            period = {\r\n                from: working_date_start,\r\n                to: working_date_end,\r\n                period: this.tools.getPeriod(working_date_start, working_date_end),\r\n                isToday: this.tools.getToday() == working_date_start ? true : false\r\n            };\r\n\r\n            if ((new Date(this.tools.getToday())).getTime() <= (new Date(period.from)).getTime()) {\r\n\r\n                period.to = period.from;\r\n                period.isToday = false;\r\n\r\n            } else {\r\n\r\n                period.from = this.tools.getToday();\r\n                period.to = this.tools.getToday();\r\n                period.period = 0;\r\n                period.isToday = true;\r\n\r\n            }\r\n\r\n        } else {\r\n            period = {\r\n                from: moment(new Date()).format('YYYY-MM-DD'),\r\n                to: moment(new Date()).format('YYYY-MM-DD'),\r\n                period: 0,\r\n                isToday: true\r\n            };\r\n\r\n        }\r\n\r\n        console.log(period);\r\n        if (period) {\r\n            this.config.setStorage('period', period);\r\n        }\r\n\r\n        return period;\r\n\r\n    }\r\n\r\n    calculateOffset() {\r\n        return (this.itemsPerPage * this.pageNum) - this.itemsPerPage;\r\n    }\r\n\r\n    searchReset() {\r\n        this.pageNum = 1;\r\n        for (const prop in this.sFilter) {\r\n            if (prop === 'phone') {\r\n                this.sFilter[prop] = null;\r\n            } else {\r\n                this.sFilter[prop] = false;\r\n            }\r\n\r\n        }\r\n\r\n        this.content.scrollToTop().then(_ => {\r\n            this.buildParams().then(params => this.gettingReservations(params).subscribe(res => {\r\n                this.notificData = [];\r\n                this.handleResponse(res);\r\n                // this.pageNum = this.pageNum + 1;\r\n                // save initial state\r\n                this.originalData = JSON.parse(JSON.stringify(this.notificData));\r\n\r\n            }));\r\n        });\r\n\r\n\r\n        // this.doRefresh();\r\n        // console.log(this.content);\r\n        // this.events.publish('scrollToTop',true);\r\n        // this.content.scrollToTop();\r\n    }\r\n\r\n    getDispTotal(item: any) {\r\n\r\n        const amount = Math.round(parseFloat(item.amount) * 100) / 100;\r\n        const old_amount = Math.round(parseFloat(item.old_amount) * 100) / 100;\r\n\r\n        let total;\r\n\r\n        if (amount > 0 && old_amount === 0) {\r\n            total = `${amount} ${item.currency}`;\r\n        } else if (amount === 0 && old_amount > 0) {\r\n            total = `${old_amount} ${item.currency}`;\r\n        }\r\n\r\n        if (amount > 0 && old_amount > 0) {\r\n            total = `${amount} ${item.currency} (${this.config.translate.translate.instant('Components.PAID')} ${old_amount} ${item.currency})`;\r\n        }\r\n\r\n        return total;\r\n\r\n    }\r\n\r\n    ionViewWillLeave(): void {\r\n\r\n        this.onResumeSubscription.unsubscribe();\r\n        this.originalData = [];\r\n\r\n        if (this._selectPeriodHandler) {\r\n\r\n            this.events.unsubscribe('app:selectPeriodNotifications', this._selectPeriodHandler);\r\n            this._selectPeriodHandler = undefined;\r\n\r\n        }\r\n\r\n    }\r\n\r\n    // startScroll(event) {\r\n    //   console.log(event);\r\n    //   // if(event.scrollTop > 400) this.content.scrollTo(0,0,2);\r\n    // }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notification/notification.ts"],"sourceRoot":""}