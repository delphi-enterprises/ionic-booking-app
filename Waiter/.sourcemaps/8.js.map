{"version":3,"sources":["../../src/pages/notification/note/note.module.ts","../../src/pages/notification/note/note.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NotePage } from './note';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    NotePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NotePage),\n    TranslateModule.forChild(),\n  ],\n})\nexport class NotePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notification/note/note.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Select, LoadingController } from 'ionic-angular';\nimport { BeachService } from '../../../services/beach.service';\nimport { AppService } from '../../../services/app.service';\n\n/**\n * Generated class for the NotePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-note',\n  templateUrl: 'note.html',\n})\nexport class NotePage {\n    openItemNum: number;\n    itemAddState: boolean;\n    order: any = false;\n    items = [];\n    currency = 'ron';\n    newItem: any = { qty: 1, name: '' };\n    openTopping = false;\n    products: any = [];\n    order_id: false;\n    reservation_id = false;\n    title = '';\n    showDropdown = false;\n\n    @ViewChild('select_toppings') select_toppings_comp: Select;\n\n    constructor(public navCtrl: NavController, public navParams: NavParams,\n        private beachService: BeachService,\n        public loadingCtrl: LoadingController,\n        private appService: AppService\n    ) {\n        this.currency = navParams.get('currency');\n        this.title = navParams.get('title');\n        const order = navParams.get('order');\n        // let loading = this.loadingCtrl.create({\n        //     content: 'Please wait...'\n        // });\n        // loading.present();\n        this.beachService.getProductions()\n            .then(data => {\n                const allProductions = data.all;\n                this.products = data.mine;\n                if (order) {\n                    this.order_id = order.id;\n                    const items = JSON.parse(JSON.stringify(order.data.items));\n                    items.forEach((item, index) => {\n                        for (var production of allProductions) {\n                            if (item.id == production.id) {\n                                items[index].topping_list = production.toppings || [];\n                                break;\n                            }\n                        }\n                    });\n                    this.items = items;\n                    this.reservation_id = order.reservation_id;\n                } else {\n                    this.reservation_id = navParams.get('reservation_id');\n                }\n                // loading.dismiss();\n            })\n            .catch(error => {\n                // loading.dismiss();\n                this.appService.errorHandler(error);\n            })\n    }\n    closeModal() {\n        this.navCtrl.pop();\n    }\n\n    openItem(item_num: number) {\n        this.openItemNum = item_num;\n        this.openTopping = false;\n    }\n    completeItemEdit() {\n        this.openItemNum = -1;\n        this.openTopping = false;\n    }\n    selected_toppings = [];\n    selected_topping_list = [];\n\n    toggleToppings(index) {\n        this.selected_toppings = this.items[index].toppings;\n        this.selected_topping_list = this.items[index].topping_list;\n        setTimeout(() => {\n            this.select_toppings_comp.open();\n        }, 200);\n    }\n    getAmount() {\n        let amount = 0;\n        this.items.forEach(item => {\n            amount += item.price * item.qty;\n            item.toppings.forEach(topping => {\n                amount += topping.price * item.qty;\n            })\n        })\n        return amount;\n    }\n    filterNewItem(product) {\n        return product.name.toLowerCase().indexOf(this.newItem.name.toLowerCase()) > -1;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notification/note/note.ts"],"sourceRoot":""}